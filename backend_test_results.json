{
  "total_tests": 8,
  "passed_tests": 7,
  "failed_tests": 1,
  "success_rate": 87.5,
  "test_details": [
    {
      "test": "Root Endpoint",
      "success": true,
      "details": "",
      "response_data": {
        "message": "NESR Safety Inspection API"
      }
    },
    {
      "test": "Health Check",
      "success": true,
      "details": "",
      "response_data": {
        "status": "healthy",
        "service": "NESR Safety Vision"
      }
    },
    {
      "test": "CORS Headers",
      "success": false,
      "details": "No CORS headers found in: ['allow', 'Content-Length', 'content-type', 'date', 'server', 'via', 'Alt-Svc']",
      "response_data": null
    },
    {
      "test": "Analyze Endpoint - Safety Scene",
      "success": true,
      "details": "Violations: 2, Risk: Medium, Score: 55%",
      "response_data": {
        "photoId": "45dbde9e-dcd4-4704-87df-92f8d9ea16b3",
        "fileName": "test_safety_scene.jpg",
        "uploadTime": "2026-01-19T12:37:36.468151+00:00",
        "analysisResults": {
          "violations": [
            {
              "type": "Uncovered pits/holes",
              "location": "bottom-left",
              "confidence": 95,
              "category": "Equipment"
            },
            {
              "type": "Unsecured equipment",
              "location": "center-right",
              "confidence": 90,
              "category": "Equipment"
            }
          ],
          "riskLevel": "Medium",
          "safetyScore": 55
        },
        "processingTime": 4.453564167022705
      }
    },
    {
      "test": "Analyze Endpoint - Clean Site",
      "success": true,
      "details": "Violations: 0, Risk: Low, Score: 100%",
      "response_data": {
        "photoId": "6499eea7-eaf3-452b-bc8f-3514b7e85848",
        "fileName": "test_clean_site.jpg",
        "uploadTime": "2026-01-19T12:37:42.978814+00:00",
        "analysisResults": {
          "violations": [],
          "riskLevel": "Low",
          "safetyScore": 100
        },
        "processingTime": 1.8224384784698486
      }
    },
    {
      "test": "Safety Score Consistency - Multiple Violations",
      "success": true,
      "details": "Violations: 6, Score: 0%, Risk: High - All rules passed",
      "response_data": {
        "photoId": "8600900f-f946-4b34-896f-b293ee4ac9e6",
        "fileName": "test_multiple_violations.jpg",
        "uploadTime": "2026-01-19T12:37:46.841044+00:00",
        "analysisResults": {
          "violations": [
            {
              "type": "Uncovered pits/holes",
              "location": "bottom-left",
              "confidence": 95,
              "category": "Equipment"
            },
            {
              "type": "Spill hazard",
              "location": "center-right",
              "confidence": 90,
              "category": "Environmental"
            },
            {
              "type": "Exposed wiring",
              "location": "top-left",
              "confidence": 85,
              "category": "Environmental"
            },
            {
              "type": "Blocked exits/pathways",
              "location": "center-right",
              "confidence": 80,
              "category": "Environmental"
            },
            {
              "type": "Missing hard hat",
              "location": "center",
              "confidence": 95,
              "category": "PPE"
            },
            {
              "type": "Missing safety vest/high-visibility clothing",
              "location": "center",
              "confidence": 90,
              "category": "PPE"
            }
          ],
          "riskLevel": "High",
          "safetyScore": 0
        },
        "processingTime": 6.935561418533325
      }
    },
    {
      "test": "Backend Validation Logic",
      "success": true,
      "details": "Violations: 2, Score: 50% <= Expected Max: 70%",
      "response_data": {
        "photoId": "52c682d7-a0df-4161-95cc-d602fb498d21",
        "fileName": "test_validation_logic.jpg",
        "uploadTime": "2026-01-19T12:37:54.828491+00:00",
        "analysisResults": {
          "violations": [
            {
              "type": "Uncovered pits/holes",
              "location": "bottom-left",
              "confidence": 95,
              "category": "Equipment"
            },
            {
              "type": "Unsecured equipment",
              "location": "center-right",
              "confidence": 90,
              "category": "Equipment"
            }
          ],
          "riskLevel": "Medium",
          "safetyScore": 50
        },
        "processingTime": 3.7818009853363037
      }
    },
    {
      "test": "Analyze Endpoint - Invalid Data",
      "success": true,
      "details": "Correctly rejected invalid data with status 520",
      "response_data": null
    }
  ]
}